## 6 系统出错设计

### 6.1 出错信息

<center>表 6-1 出错信息表</center>

| 输出信息形式                            | 含义                                                         | 处理方法                     |
| --------------------------------------- | ------------------------------------------------------------ | ---------------------------- |
| 数据库连接失败                          | 由于并发操作的用户数量很大，导致数据库访问读写率降低；或者数据库配不对，导致数据库连接失败 | 修改服务器配置，尝试重连     |
| 管理员cookie的登陆token与数据库信息不符 | 管理员cookie被劫持，账号被盗取                               | 强制清楚cookie，要求重新登录 |
| 数据无法加载                            | 数据库因硬盘损坏等原因丢失数据                               | 尝试修复或启用备份           |

### 6.2 补救措施

##### 系统备份

 定期备份系统数据，当系统数据因不可抗拒力丢失时，可以启用备份数据。

##### 分布式部署

 将系统部署到不同计算机上，减小某台计算机硬件损坏造成的数据丢失的影响。 

## 7 系统维护设计

### 7.1 概述

1. 连接数据库时，需要在创建数据库连接、销毁数据库连接时使用 try catch 语句捕获异常，对不同的错误信息尽量区分输出。
2. 管理员有权查看网站的整体状况，以防系统出现不可预计的错误以及显示不合法信息。
3. 管理员与系统维护人员每次管理维护后需要留下完备可读的系统维护日志便于管理员和其他维护人员查看。

### 7.2 监测点设计

1. 筛选功能测试流程：
   1. 查看数据
   2. 设置筛选条件
   3. 查看筛选结果
2. 数据可视化功能测试流程：
   1. 查看数据
   2. 选择数据进行可视化
3. 搜索功能测试流程：
   1. 进入首页
   2. 输入搜索关键字进行搜索
   3. 查看搜索结果
4. 管理员编辑数据功能测试流程：
   1. 进入登陆页面，管理员登陆
   2. 查看数据、编辑数据、删除数据

### 7.3 系统维护设计

1. 数据库维护：定期备份数据库文件。

2. 硬件资源维护：定期清理硬盘垃圾，根据需要优化服务器性能。
3. 系统功能升级：根据用户需求反馈，对系统功能进行更新。